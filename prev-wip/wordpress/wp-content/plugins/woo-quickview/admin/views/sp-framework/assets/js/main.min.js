!function($,window,document,undefined){"use strict";var SP_WQV_Framework=SP_WQV_Framework||{};SP_WQV_Framework.funcs={},SP_WQV_Framework.vars={onloaded:!1,$body:$("body"),$window:$(window),$document:$(document),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:$("body").hasClass("rtl")},SP_WQV_Framework.helper={uid:function(prefix){return(prefix||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(str){return(str+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function($selector,field_id){var checks=[],regex=new RegExp(SP_WQV_Framework.helper.preg_quote(field_id+"[\\d+]"),"g");$selector.find(":radio").each((function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)})),$selector.each((function(index){$(this).find(":input").each((function(){this.name=this.name.replace(regex,field_id+"["+index+"]"),this.orginal_checked&&(this.checked=!0)}))}))},debounce:function(callback,threshold,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||callback.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,threshold),callNow&&callback.apply(context,args)}}},$.fn.sp_wqv_clone=function(){for(var base=$.fn.clone.apply(this,arguments),clone=this.find("select").add(this.filter("select")),cloned=base.find("select").add(base.filter("select")),i=0;i<clone.length;++i)for(var j=0;j<clone[i].options.length;++j)!0===clone[i].options[j].selected&&(cloned[i].options[j].selected=!0);return this.find(":radio").each((function(){this.orginal_checked=this.checked})),base},$.fn.sp_wqv_expand_all=function(){return this.each((function(){$(this).on("click",(function(e){e.preventDefault(),$(".sp_wqv-wrapper").toggleClass("sp_wqv-show-all"),$(".sp_wqv-section").sp_wqv_reload_script(),$(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")}))}))},$.fn.sp_wqv_nav_options=function(){return this.each((function(){var $nav=$(this),$window=$(window),$wpwrap=$("#wpwrap"),$links=$nav.find("a"),$last;$window.on("hashchange sp_wqv.hashchange",(function(){var hash=window.location.hash.replace("#tab=",""),slug=hash||$links.first().attr("href").replace("#tab=",""),$link=$('[data-tab-id="'+slug+'"]');if($link.length){$link.closest(".sp_wqv-tab-item").addClass("sp_wqv-tab-expanded").siblings().removeClass("sp_wqv-tab-expanded"),$link.next().is("ul")&&(slug=($link=$link.next().find("li").first().find("a")).data("tab-id")),$links.removeClass("sp_wqv-active"),$link.addClass("sp_wqv-active"),$last&&$last.addClass("hidden");var $section=$('[data-section-id="'+slug+'"]');$section.removeClass("hidden"),$section.sp_wqv_reload_script(),$(".sp_wqv-section-id").val($section.index()+1),$last=$section,$wpwrap.hasClass("wp-responsive-open")&&($("html, body").animate({scrollTop:$section.offset().top-50},200),$wpwrap.removeClass("wp-responsive-open"))}})).trigger("sp_wqv.hashchange")}))},$.fn.sp_wqv_sticky=function(){return this.each((function(){var $this=$(this),$window=$(window),$inner=$this.find(".sp_wqv-header-inner"),padding=parseInt($inner.css("padding-left"))+parseInt($inner.css("padding-right")),offset=32,scrollTop=0,lastTop=0,ticking=!1,stickyUpdate=function(){var offsetTop=$this.offset().top,stickyTop=Math.max(32,offsetTop-scrollTop),winWidth=$window.innerWidth();stickyTop<=32&&winWidth>782?($inner.css({width:$this.outerWidth()-padding}),$this.css({height:$this.outerHeight()}).addClass("sp_wqv-sticky")):($inner.removeAttr("style"),$this.removeAttr("style").removeClass("sp_wqv-sticky"))},requestTick=function(){ticking||requestAnimationFrame((function(){stickyUpdate(),ticking=!1})),ticking=!0},onSticky=function(){scrollTop=$window.scrollTop(),requestTick()};$window.on("scroll resize",onSticky),onSticky()}))},$.fn.sp_wqv_dependency=function(){return this.each((function(){var $this=$(this),$fields=$this.children("[data-controller]");if($fields.length){var normal_ruleset=$.sp_wqv_deps.createRuleset(),global_ruleset=$.sp_wqv_deps.createRuleset(),normal_depends=[],global_depends=[];$fields.each((function(){var $field=$(this),controllers=$field.data("controller").split("|"),conditions=$field.data("condition").split("|"),values=$field.data("value").toString().split("|"),is_global=!!$field.data("depend-global"),ruleset=is_global?global_ruleset:normal_ruleset;$.each(controllers,(function(index,depend_id){var value=values[index]||"",condition=conditions[index]||conditions[0];(ruleset=ruleset.createRule('[data-depend-id="'+depend_id+'"]',condition,value)).include($field),is_global?global_depends.push(depend_id):normal_depends.push(depend_id)}))})),normal_depends.length&&$.sp_wqv_deps.enable($this,normal_ruleset,normal_depends),global_depends.length&&$.sp_wqv_deps.enable(SP_WQV_Framework.vars.$body,global_ruleset,global_depends)}}))},$.fn.sp_wqv_field_sortable=function(){return this.each((function(){var $sortable=$(this).find(".sp_wqv-sortable");$sortable.sortable({axis:"y",helper:"original",cursor:"move",disabled:!0,placeholder:"widget-placeholder",update:function(event,ui){$sortable.sp_wqv_customizer_refresh()}}),$sortable.find(".sp_wqv-sortable-content").sp_wqv_reload_script()}))},$.fn.sp_wqv_field_code_editor=function(){return this.each((function(){if("function"==typeof CodeMirror){var $this=$(this),$textarea=$this.find("textarea"),$inited=$this.find(".CodeMirror"),data_editor=$textarea.data("editor");$inited.length&&$inited.remove();var interval=setInterval((function(){if($this.is(":visible")){var code_editor=CodeMirror.fromTextArea($textarea[0],data_editor);if("default"!==data_editor.theme&&-1===SP_WQV_Framework.vars.code_themes.indexOf(data_editor.theme)){var $cssLink=$("<link>");$("#sp_wqv-codemirror-css").after($cssLink),$cssLink.attr({rel:"stylesheet",id:"sp_wqv-codemirror-"+data_editor.theme+"-css",href:data_editor.cdnURL+"/theme/"+data_editor.theme+".min.css",type:"text/css",media:"all"}),SP_WQV_Framework.vars.code_themes.push(data_editor.theme)}CodeMirror.modeURL=data_editor.cdnURL+"/mode/%N/%N.min.js",CodeMirror.autoLoadMode(code_editor,data_editor.mode),code_editor.on("change",(function(editor,event){$textarea.val(code_editor.getValue()).trigger("change")})),clearInterval(interval)}}))}}))},$.fn.sp_wqv_field_slider=function(){return this.each((function(){var $this=$(this),$input=$this.find("input"),$slider=$this.find(".sp_wqv-slider-ui"),data=$input.data(),value=$input.val()||0;$slider.hasClass("ui-slider")&&$slider.empty(),$slider.slider({range:"min",value:value,min:data.min||0,max:data.max||100,step:data.step||1,slide:function(e,o){$input.val(o.value).trigger("change")}}),$input.on("keyup",(function(){$slider.slider("value",$input.val())}))}))},$.fn.sp_wqv_field_spinner=function(){return this.each((function(){var $this=$(this),$input=$this.find("input"),$inited=$this.find(".ui-button"),data=$input.data();$inited.length&&$inited.remove(),$input.spinner({min:data.min||0,max:data.max||100,step:data.step||1,create:function(event,ui){data.unit&&$input.after('<span class="ui-button sp_wqv--unit">'+data.unit+"</span>")},spin:function(event,ui){$input.val(ui.value).trigger("change")}})}))},$.fn.sp_wqv_field_switcher=function(){return this.each((function(){var $switcher=$(this).find(".sp_wqv--switcher");$switcher.on("click",(function(){var value=0,$input=$switcher.find("input");$switcher.hasClass("sp_wqv--active")?$switcher.removeClass("sp_wqv--active"):(value=1,$switcher.addClass("sp_wqv--active")),$input.val(value).trigger("change")}))}))},$.fn.sp_wqv_confirm=function(){return this.each((function(){$(this).on("click",(function(e){var confirm_text=$(this).data("confirm")||window.sp_wqv_vars.i18n.confirm,confirm_answer;if(!confirm(confirm_text))return e.preventDefault(),!1;SP_WQV_Framework.vars.is_confirm=!0,SP_WQV_Framework.vars.form_modified=!1}))}))},$.fn.serializeObject=function(){var obj={};return $.each(this.serializeArray(),(function(i,o){var n=o.name,v=o.value;obj[n]=void 0===obj[n]?v:$.isArray(obj[n])?obj[n].concat(v):[obj[n],v]})),obj},$.fn.sp_wqv_save=function(){return this.each((function(){var $this=$(this),$buttons=$(".sp_wqv-save"),$panel=$(".sp_wqv-options"),flooding=!1,timeout;$this.on("click",(function(e){if(!flooding){var $text=$this.data("save"),$value=$this.val();$buttons.attr("value",$text),$this.hasClass("sp_wqv-save-ajax")?(e.preventDefault(),$panel.addClass("sp_wqv-saving"),$buttons.prop("disabled",!0),window.wp.ajax.post("sp_wqv_"+$panel.data("unique")+"_ajax_save",{data:$("#sp_wqv-form").serializeJSONSP_WQV_Framework()}).done((function(response){if($(".sp_wqv-error").remove(),Object.keys(response.errors).length){var error_icon='<i class="sp_wqv-label-error sp_wqv-error">!</i>';$.each(response.errors,(function(key,error_message){var $field=$('[data-depend-id="'+key+'"]'),$link=$('a[href="#tab='+$field.closest(".sp_wqv-section").data("section-id")+'"]'),$tab=$link.closest(".sp_wqv-tab-item");$field.closest(".sp_wqv-fieldset").append('<p class="sp_wqv-error sp_wqv-error-text">'+error_message+"</p>"),$link.find(".sp_wqv-error").length||$link.append(error_icon),$tab.find(".sp_wqv-arrow .sp_wqv-error").length||$tab.find(".sp_wqv-arrow").append(error_icon)}))}$panel.removeClass("sp_wqv-saving"),$buttons.prop("disabled",!1).attr("value",$value),flooding=!1,SP_WQV_Framework.vars.form_modified=!1,SP_WQV_Framework.vars.$form_warning.hide(),clearTimeout(timeout);var $result_success=$(".sp_wqv-form-success");$result_success.empty().append(response.notice).fadeIn("fast",(function(){timeout=setTimeout((function(){$result_success.fadeOut("fast")}),1e3)}))})).fail((function(response){alert(response.error)}))):SP_WQV_Framework.vars.form_modified=!1}flooding=!0}))}))},$.fn.sp_wqv_options=function(){return this.each((function(){var $this=$(this),$content=$this.find(".sp_wqv-content"),$form_success=$this.find(".sp_wqv-form-success"),$form_warning=$this.find(".sp_wqv-form-warning"),$save_button=$this.find(".sp_wqv-header .sp_wqv-save");SP_WQV_Framework.vars.$form_warning=$form_warning,$form_warning.length&&(window.onbeforeunload=function(){return!!SP_WQV_Framework.vars.form_modified||void 0},$content.on("change keypress",":input",(function(){SP_WQV_Framework.vars.form_modified||($form_success.hide(),$form_warning.fadeIn("fast"),SP_WQV_Framework.vars.form_modified=!0)}))),$form_success.hasClass("sp_wqv-form-show")&&setTimeout((function(){$form_success.fadeOut("fast")}),1e3),$(document).on("keydown",(function(event){if((event.ctrlKey||event.metaKey)&&83===event.which)return $save_button.trigger("click"),event.preventDefault(),!1}))}))},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var hex=parseInt(this._color,10).toString(16);if(this.error)return"";if(hex.length<6)for(var i=6-hex.length-1;i>=0;i--)hex="0"+hex;return"#"+hex}),SP_WQV_Framework.funcs.parse_color=function(color){var value=color.replace(/\s+/g,""),trans=-1!==value.indexOf("rgba")?parseFloat(100*value.replace(/^.*,(.+)\)/,"$1")):100,rgba;return{value:value,transparent:trans,rgba:trans<100}},$.fn.sp_wqv_color=function(){return this.each((function(){var $input=$(this),picker_color=SP_WQV_Framework.funcs.parse_color($input.val()),palette_color=!window.sp_wqv_vars.color_palette.length||window.sp_wqv_vars.color_palette,$container;$input.hasClass("wp-color-picker")&&$input.closest(".wp-picker-container").after($input).remove(),$input.wpColorPicker({palettes:palette_color,change:function(event,ui){var ui_color_value=ui.color.toString();$container.removeClass("sp_wqv--transparent-active"),$container.find(".sp_wqv--transparent-offset").css("background-color",ui_color_value),$input.val(ui_color_value).trigger("change")},create:function(){$container=$input.closest(".wp-picker-container");var a8cIris=$input.data("a8cIris"),$transparent_wrap=$('<div class="sp_wqv--transparent-wrap"><div class="sp_wqv--transparent-slider"></div><div class="sp_wqv--transparent-offset"></div><div class="sp_wqv--transparent-text"></div><div class="sp_wqv--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo($container.find(".wp-picker-holder")),$transparent_slider=$transparent_wrap.find(".sp_wqv--transparent-slider"),$transparent_text=$transparent_wrap.find(".sp_wqv--transparent-text"),$transparent_offset=$transparent_wrap.find(".sp_wqv--transparent-offset"),$transparent_button=$transparent_wrap.find(".sp_wqv--transparent-button");"transparent"===$input.val()&&$container.addClass("sp_wqv--transparent-active"),$transparent_button.on("click",(function(){"transparent"!==$input.val()?($input.val("transparent").trigger("change").removeClass("iris-error"),$container.addClass("sp_wqv--transparent-active")):($input.val(a8cIris._color.toString()).trigger("change"),$container.removeClass("sp_wqv--transparent-active"))})),$transparent_slider.slider({value:picker_color.transparent,step:1,min:0,max:100,slide:function(event,ui){var slide_value=parseFloat(ui.value/100);a8cIris._color._alpha=slide_value,$input.wpColorPicker("color",a8cIris._color.toString()),$transparent_text.text(1===slide_value||0===slide_value?"":slide_value)},create:function(){var slide_value=parseFloat(picker_color.transparent/100),text_value=slide_value<1?slide_value:"";$transparent_text.text(text_value),$transparent_offset.css("background-color",picker_color.value),$container.on("click",".wp-picker-clear",(function(){a8cIris._color._alpha=1,$transparent_text.text(""),$transparent_slider.slider("option","value",100),$container.removeClass("sp_wqv--transparent-active"),$input.trigger("change")})),$container.on("click",".wp-picker-default",(function(){var default_color=SP_WQV_Framework.funcs.parse_color($input.data("default-color")),default_value=parseFloat(default_color.transparent/100),default_text=default_value<1?default_value:"";a8cIris._color._alpha=default_value,$transparent_text.text(default_text),$transparent_slider.slider("option","value",default_color.transparent),"transparent"===default_color.value&&($input.removeClass("iris-error"),$container.addClass("sp_wqv--transparent-active"))}))}})}})}))},$.fn.sp_wqv_chosen=function(){return this.each((function(){var $this=$(this),$inited=$this.parent().find(".chosen-container"),is_sortable=$this.hasClass("sp_wqv-chosen-sortable")||!1,is_ajax=$this.hasClass("sp_wqv-chosen-ajax")||!1,is_multiple=$this.attr("multiple")||!1,set_width=is_multiple?"100%":"auto",set_options=$.extend({allow_single_deselect:!0,disable_search_threshold:10,width:set_width,no_results_text:window.sp_wqv_vars.i18n.no_results_text},$this.data("chosen-settings"));if($inited.length&&$inited.remove(),is_ajax){var set_ajax_options=$.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:window.sp_wqv_vars.i18n.typing_text,searching_text:window.sp_wqv_vars.i18n.searching_text,no_results_text:window.sp_wqv_vars.i18n.no_results_text},$this.data("chosen-settings"));$this.SP_WQV_FrameworkAjaxChosen(set_ajax_options)}else $this.chosen(set_options);if(is_multiple){var $hidden_select=$this.parent().find(".sp_wqv-hide-select"),$hidden_value=$hidden_select.val()||[];$this.on("change",(function(obj,result){result&&result.selected?$hidden_select.append('<option value="'+result.selected+'" selected="selected">'+result.selected+"</option>"):result&&result.deselected&&$hidden_select.find('option[value="'+result.deselected+'"]').remove(),void 0!==window.wp.customize&&0===$hidden_select.children().length&&$hidden_select.data("customize-setting-link")&&window.wp.customize.control($hidden_select.data("customize-setting-link")).setting.set(""),$hidden_select.trigger("change")})),$this.SP_WQV_FrameworkChosenOrder($hidden_value,!0)}if(is_sortable){var $chosen_container,$chosen_choices=$this.parent().find(".chosen-container").find(".chosen-choices");$chosen_choices.bind("mousedown",(function(event){$(event.target).is("span")&&event.stopPropagation()})),$chosen_choices.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(e,ui){ui.placeholder.width(ui.item.innerWidth()),ui.placeholder.height(ui.item.innerHeight())},update:function(e,ui){var select_options="",chosen_object=$this.data("chosen"),$prev_select=$this.parent().find(".sp_wqv-hide-select");$chosen_choices.find(".search-choice-close").each((function(){var option_array_index=$(this).data("option-array-index");$.each(chosen_object.results_data,(function(index,data){data.array_index===option_array_index&&(select_options+='<option value="'+data.value+'" selected>'+data.value+"</option>")}))})),$prev_select.children().remove(),$prev_select.append(select_options),$prev_select.trigger("change")}})}}))},$.fn.sp_wqv_siblings=function(){return this.each((function(){var $this=$(this),$siblings=$this.find(".sp_wqv--sibling"),multiple=$this.data("multiple")||!1;$siblings.on("click",(function(){var $sibling=$(this);multiple?$sibling.hasClass("sp_wqv--active")?($sibling.removeClass("sp_wqv--active"),$sibling.find("input").prop("checked",!1).trigger("change")):($sibling.addClass("sp_wqv--active"),$sibling.find("input").prop("checked",!0).trigger("change")):($this.find("input").prop("checked",!1),$sibling.find("input").prop("checked",!0).trigger("change"),$sibling.addClass("sp_wqv--active").siblings().removeClass("sp_wqv--active"))}))}))},$.fn.sp_wqv_help=function(){return this.each((function(){var $this=$(this),$tooltip,offset_left;$this.on({mouseenter:function(){$tooltip=$('<div class="sp_wqv-tooltip"></div>').html($this.find(".sp_wqv-help-text").html()).appendTo("body"),offset_left=SP_WQV_Framework.vars.is_rtl?$this.offset().left-$tooltip.outerWidth():$this.offset().left+24,$tooltip.css({top:$this.offset().top-($tooltip.outerHeight()/2-14),left:offset_left})},mouseleave:function(){void 0!==$tooltip&&$tooltip.remove()}})}))},SP_WQV_Framework.vars.$window.on("resize sp_wqv.resize",SP_WQV_Framework.helper.debounce((function(event){var window_width;(navigator.userAgent.indexOf("AppleWebKit/")>-1?SP_WQV_Framework.vars.$window.width():window.innerWidth)<=782&&!SP_WQV_Framework.vars.onloaded&&($(".sp_wqv-section").sp_wqv_reload_script(),SP_WQV_Framework.vars.onloaded=!0)}),200)).trigger("sp_wqv.resize"),$.fn.sp_wqv_nav_menu=function(){return this.each((function(){var $navmenu=$(this);$navmenu.on("click","a.item-edit",(function(){$(this).closest("li.menu-item").find(".sp_wqv-fields").sp_wqv_reload_script()})),$navmenu.on("sortstop",(function(event,ui){ui.item.find(".sp_wqv-fields").sp_wqv_reload_script_retry()}))}))},$.fn.sp_wqv_reload_script_retry=function(){return this.each((function(){var $this=$(this);$this.data("inited")&&$this.children(".sp_wqv-field-wp_editor").sp_wqv_field_wp_editor()}))},$.fn.sp_wqv_reload_script=function(options){var settings=$.extend({dependency:!0},options);return this.each((function(){var $this=$(this);$this.data("inited")||($this.children(".sp_wqv-field-code_editor").sp_wqv_field_code_editor(),$this.children(".sp_wqv-field-slider").sp_wqv_field_slider(),$this.children(".sp_wqv-field-spinner").sp_wqv_field_spinner(),$this.children(".sp_wqv-field-switcher").sp_wqv_field_switcher(),$this.children(".sp_wqv-field-sortable").sp_wqv_field_sortable(),$this.children(".sp_wqv-field-border").find(".sp_wqv-color").sp_wqv_color(),$this.children(".sp_wqv-field-color").find(".sp_wqv-color").sp_wqv_color(),$this.children(".sp_wqv-field-color_group").find(".sp_wqv-color").sp_wqv_color(),$this.children(".sp_wqv-field-typography").find(".sp_wqvp-color").sp_wqv_color(),$this.children(".sp_wqv-field-select").find(".sp_wqv-chosen").sp_wqv_chosen(),$this.children(".sp_wqv-field-button_set").find(".sp_wqv-siblings").sp_wqv_siblings(),$this.children(".sp_wqv-field-icon_select").find(".sp_wqv-siblings").sp_wqv_siblings(),$this.children(".sp_wqv-field-image_select").find(".sp_wqv-siblings").sp_wqv_siblings(),$this.children(".sp_wqv-field-palette").find(".sp_wqv-siblings").sp_wqv_siblings(),$this.children(".sp_wqv-field").find(".sp_wqv-help").sp_wqv_help(),settings.dependency&&$this.sp_wqv_dependency(),$this.data("inited",!0),$(document).trigger("sp_wqv-reload-script",$this))}))},$(document).ready((function(){$(".sp_wqv-save").sp_wqv_save(),$(".sp_wqv-options").sp_wqv_options(),$(".sp_wqv-sticky-header").sp_wqv_sticky(),$(".sp_wqv-nav-options").sp_wqv_nav_options(),$(".sp_wqv-confirm").sp_wqv_confirm(),$(".sp_wqv-expand-all").sp_wqv_expand_all(),$(".sp_wqv-onload").sp_wqv_reload_script(),$("#menu-to-edit").sp_wqv_nav_menu()})),$(document).on("keyup change","#sp_wqv-form",(function(e){var $button;e.preventDefault(),$(this).find(".sp_wqv-save").css({"background-color":"#00C263","pointer-events":"initial"}).val("Save Settings")})),$(".sp_wqv-save").on("click",(function(e){e.preventDefault(),$(this).css({"background-color":"#C5C5C6","pointer-events":"none"}).val("Changes Saved")})),$("select option:contains((Pro))").attr("disabled",!0)}(jQuery,window,document);