function wqv_get_key(array,key,value){for(var i=0;i<array.length;i++)if(array[i][key]===value)return i;return-1}jQuery(document).ready((function(jQuery){var wqv_products=[],wqv_ids=[];jQuery(".sp-wqv-view-button").each((function(){var product_id=jQuery(this).attr("data-id");-1===jQuery.inArray(product_id,wqv_ids)&&(wqv_ids.push(product_id),wqv_products.push({src:wqv_vars.ajax_url+"?product_id="+product_id}))})),jQuery("body").on("click",".sp-wqv-view-button",(function(e){var product_id=jQuery(this).attr("data-id");-1===jQuery.inArray(product_id,wqv_ids)&&(wqv_ids.push(product_id),wqv_products.push({src:wqv_vars.ajax_url+"?product_id="+product_id}));var effect=jQuery(this).attr("data-effect"),data_wqv_json=jQuery(this).data("wqv");data_wqv=JSON.parse(data_wqv_json);var index=wqv_get_key(wqv_products,"src",wqv_vars.ajax_url+"?product_id="+product_id);jQuery.magnificPopup.open({items:wqv_products,type:"ajax",mainClass:"mfp-wqv",preloader:data_wqv.preloader,tLoading:data_wqv.preloader_label,autoFocusLast:!1,ajax:{settings:{type:"GET",data:{action:"wqv_popup_content",_ajax_nonce:wqv_vars.nonce}}},showCloseBtn:data_wqv.close_button,closeMarkup:'<button title="%title%" type="button" class="mfp-close icon-4"></button>',removalDelay:160,callbacks:{beforeOpen:function(){this.st.mainClass=void 0!==effect&&!1!==effect?"mfp-wqv "+effect:"mfp-wqv "+wqv_vars.effect},ajaxContentAdded:function(){var form_variation;"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".sp-wqv-content").find(".variations_form").each((function(){jQuery(this).wc_variation_form()}));data_wqv.lightbox&&jQuery('[data-fancybox="wqvpro-gallery"]').fancybox({baseClass:" wqvp-fancybox-wrapper",infobar:!1,buttons:["zoom","close"]});const ps=new PerfectScrollbar(".wqv-product-content",{})}}},index),e.preventDefault()}))}));